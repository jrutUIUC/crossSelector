trl <- 'SR_Stj_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8048",5),rep("16-8048",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(365)
a<- sample(germplasmName)
set.seed(366)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName, df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
df_done<- df[which(df$trial %in% trl),]
write.csv(df_done, file='StJ_SRenvelopes.csv')
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Neoga, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
BBtemplate<- BBtemplate[-which(BBtemplate$plot_number=='FILL'),]
write.csv(BBtemplate, file= 'trialtemplSeedingRateSTJ.csv' )
trl
df$trial
head(df)
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=2, range='R1C2:R44C22'))
Plots<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=3, range='R1C2:R44C22'))
Rep<- as.data.frame(read_xls("SSt Jacob Map_mod.xls", sheet=4, range='R1C2:R44C22'))
colDesign<- as.data.frame(read_xls("SSt Jacob Map_mod.xls", sheet=5, range='R1C2:R44C22'))
rowDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=6, range='R1C2:R44C22'))
Soworder<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=7, range='R1C2:R44C22'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=2, range='R1C2:R44C22'))
Plots<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=3, range='R1C2:R44C22'))
Rep<- as.data.frame(read_xls("SSt Jacob Map_mod.xls", sheet=4, range='R1C2:R44C22'))
colDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=5, range='R1C2:R44C22'))
rowDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=6, range='R1C2:R44C22'))
Soworder<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=7, range='R1C2:R44C22'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Stj_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8048",5),rep("16-8048",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(365)
a<- sample(germplasmName)
set.seed(366)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName, df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
df_done<- df[which(df$trial %in% trl),]
write.csv(df_done, file='StJ_SRenvelopes.csv')
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Neoga, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
BBtemplate<- BBtemplate[-which(BBtemplate$plot_number=='FILL'),]
write.csv(BBtemplate, file= 'trialtemplSeedingRateSTJ.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=2, range='R1C2:R44C22'))
Plots<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=3, range='R1C2:R44C22'))
Rep<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=4, range='R1C2:R44C22'))
colDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=5, range='R1C2:R44C22'))
rowDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=6, range='R1C2:R44C22'))
Soworder<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=7, range='R1C2:R44C22'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Stj_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8048",5),rep("16-8048",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(365)
a<- sample(germplasmName)
set.seed(366)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName, df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
df_done<- df[which(df$trial %in% trl),]
write.csv(df_done, file='StJ_SRenvelopes.csv')
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Neoga, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
BBtemplate<- BBtemplate[-which(BBtemplate$plot_number=='FILL'),]
write.csv(BBtemplate, file= 'trialtemplSeedingRateSTJ.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=2, range='R1C2:R43C31'))
Plots<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=3, range='R1C2:R43C31'))
Rep<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=4, range='R1C2:R43C31'))
colDesign<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=5, range='R1C2:R43C31'))
rowDesign<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=6, range='R1C2:R43C31'))
Soworder<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=7, range='R1C2:R43C31'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Neo_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8048",5),rep("12-26004",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(165)
a<- sample(germplasmName)
set.seed(166)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName,df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
####################
# add SR trial
####################
df_done<- df[which(df$trial %in% trl),]
write.csv(df_done, file='F100_SRenvelopes.csv')
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Neoga, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
BBtemplate<- BBtemplate[-which(BBtemplate$plot_number=='FILL'),]
write.csv(BBtemplate, file= 'trialtemplSeedingRateNEO.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=2, range='R1C2:R73C50'))
Plots<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=3, range='R1C2:R73C50'))
Rep<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=4, range='R1C2:R73C50'))
colDesign<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=5, range='R1C2:R73C50'))
rowDesign<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=6, range='R1C2:R73C50'))
Soworder<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=7, range='R1C2:R73C50'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Urb_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8040",5),rep("12-26004",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(265)
a<- sample(germplasmName)
set.seed(266)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName,df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
df_done<- df[which(df$trial==trl),]
write.csv(df_done, file='F100_SRenvelopes.csv')
####################
# add SR trial to the df_done from Urb
####################
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Urbana, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
write.csv(BBtemplate, file= 'trialtemplSeedingRateURB.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=2, range='R1C2:R73C50'))
Plots<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=3, range='R1C2:R73C50'))
Rep<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=4, range='R1C2:R73C50'))
colDesign<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=5, range='R1C2:R73C50'))
rowDesign<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=6, range='R1C2:R73C50'))
Soworder<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=7, range='R1C2:R73C50'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Urb_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8040",5),rep("12-26004",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(265)
a<- sample(germplasmName)
set.seed(266)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName,df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
df_done<- df[which(df$trial==trl),]
write.csv(df_done, file='F100_SRenvelopes.csv')
####################
# add SR trial to the df_done from Urb
####################
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Urbana, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
write.csv(BBtemplate, file= 'trialtemplSeedingRateURB.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=2, range='R1C2:R43C31'))
Plots<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=3, range='R1C2:R43C31'))
Rep<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=4, range='R1C2:R43C31'))
colDesign<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=5, range='R1C2:R43C31'))
rowDesign<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=6, range='R1C2:R43C31'))
Soworder<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=7, range='R1C2:R43C31'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Neo_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8048",5),rep("12-26004",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(165)
a<- sample(germplasmName)
set.seed(166)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName,df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
####################
# add SR trial
####################
df_done<- df[which(df$trial %in% trl),]
write.csv(df_done, file='Neoga_SRenvelopes.csv')
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Neoga, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
BBtemplate<- BBtemplate[-which(BBtemplate$plot_number=='FILL'),]
write.csv(BBtemplate, file= 'trialtemplSeedingRateNEO.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=2, range='R1C2:R44C22'))
Plots<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=3, range='R1C2:R44C22'))
Rep<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=4, range='R1C2:R44C22'))
colDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=5, range='R1C2:R44C22'))
rowDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=6, range='R1C2:R44C22'))
Soworder<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=7, range='R1C2:R44C22'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Stj_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8048",5),rep("16-8048",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(365)
a<- sample(germplasmName)
set.seed(366)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName, df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
df_done<- df[which(df$trial %in% trl),]
write.csv(df_done, file='StJ_SRenvelopes.csv')
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Neoga, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
BBtemplate<- BBtemplate[-which(BBtemplate$plot_number=='FILL'),]
write.csv(BBtemplate, file= 'trialtemplSeedingRateSTJ.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=2, range='R1C2:R44C22'))
Plots<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=3, range='R1C2:R44C22'))
Rep<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=4, range='R1C2:R44C22'))
colDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=5, range='R1C2:R44C22'))
rowDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=6, range='R1C2:R44C22'))
Soworder<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=7, range='R1C2:R44C22'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
df<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, stringsAsFactors = FALSE)
#make SR randomization
trl <- 'SR_Stj_22'
ent <- data.frame(Year=rep(2022,10),
Test=rep("SR",10),
Gen=c(rep("16-8048",5),rep("12-26004",5)),
SeedR=rep(seq(20,100,20),2))
ent$accession_name <- paste(ent$Gen,ent$SeedR,sep = "-")
germplasmName<- ent$accession_name
germplasmName0<- germplasmName
set.seed(365)
a<- sample(germplasmName)
set.seed(366)
b<- sample(germplasmName)
rand<- c(a,b)
plt<- c((1:length(a))+100, (1:length(a))+200)
plotAssign<- data.frame(rand, plotName=paste(trl, plt, sep="-"))
df[match(plotAssign$plotName, df$plotName),'germplasmName']<- as.character(plotAssign$rand)
df[which(df$trial ==trl),'entno.in.study']<- match(df[which(df$trial ==trl),'germplasmName'], germplasmName0)
df_done<- df[which(df$trial %in% trl),]
write.csv(df_done, file='StJ_SRenvelopes.csv')
BBtemplate<- data.frame(trial_name=df_done$trial,
breeding_program='University of Illinois', location='Neoga, IL', year=2022,
design_type= 'RCBD', description='Seeding rate experiment',
trial_type='phenotyping_trial', plot_width="",
plot_length="", field_size="", planting_date="", harvest_date="", plot_name=df_done$plotName,
accession_name= df_done$germplasmName, plot_number=df_done$plot,
block_number= df_done$rep, is_a_control="", rep_number=df_done$rep,
range_number="", row_number=df_done$row, col_number=df_done$col, seedlot_name="",
num_seed_per_plot="", weight_gram_seed_per_plot="", stringsAsFactors = FALSE)
BBtemplate<- BBtemplate[-which(BBtemplate$plot_number=='FILL'),]
write.csv(BBtemplate, file= 'trialtemplSeedingRateSTJ.csv' )
rm(list=ls())
setwd("~/Documents/Wheat/2022/Seeding rate experiment")
library(readxl)
Trial<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=2, range='R1C2:R73C50'))
Plots<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=3, range='R1C2:R73C50'))
Rep<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=4, range='R1C2:R73C50'))
colDesign<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=5, range='R1C2:R73C50'))
rowDesign<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=6, range='R1C2:R73C50'))
Soworder<- as.data.frame(read_xls("F100 Map_mod.xls", sheet=7, range='R1C2:R73C50'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
dfF100<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, Location='Urbana', stringsAsFactors = FALSE)
Trial<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=2, range='R1C2:R43C31'))
Plots<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=3, range='R1C2:R43C31'))
Rep<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=4, range='R1C2:R43C31'))
colDesign<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=5, range='R1C2:R43C31'))
rowDesign<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=6, range='R1C2:R43C31'))
Soworder<- as.data.frame(read_xls("Neoga Map_mod.xls", sheet=7, range='R1C2:R43C31'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
dfNeoga<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, Location= 'Neoga', stringsAsFactors = FALSE)
Trial<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=2, range='R1C2:R44C22'))
Plots<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=3, range='R1C2:R44C22'))
Rep<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=4, range='R1C2:R44C22'))
colDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=5, range='R1C2:R44C22'))
rowDesign<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=6, range='R1C2:R44C22'))
Soworder<- as.data.frame(read_xls("St Jacob Map_mod.xls", sheet=7, range='R1C2:R44C22'))
trial<- as.vector(as.matrix(Trial))
plot<- as.vector(as.matrix(Plots))
soworder<- as.vector(as.matrix(Soworder))
rep<- as.vector(as.matrix(Rep))
colDesign<- as.vector(as.matrix(colDesign))
rowDesign<- as.vector(as.matrix(rowDesign))
plotName<- paste(trial, plot, sep="-")
dfStJacob<- data.frame(trial, plot, soworder, plotName, germplasmName=rep("", length(trial)),
entno.in.study=rep("", length(trial)), rep, colDesign, rowDesign, Location= 'St Jacob', stringsAsFactors = FALSE)
threelocs=rbind(dfF100, dfNeoga, dfStJacob)
head(threelocs)
View(threelocs)
grep('WSC', threeLocs$trial)
threelocs=rbind(dfF100, dfNeoga, dfStJacob)
grep('WSC', threeLocs$trial)
grep('WSC', threelocs$trial)
threelocs[grep('WSC', threelocs$trial),]
WSC_Plotname_Soworder<- threelocs[grep('WSC', threelocs$trial),]
getwd()
write.csv(WSC_Plotname_Soworder, file='WSC_Plotname_Soworder.csv')
